{"ast":null,"code":"var nextMicroTask = Promise.resolve();\n\nvar defer = function defer(callback) {\n  var progress = null;\n  var cancelled = false;\n\n  var fn = function fn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (progress !== null) {\n      return;\n    }\n\n    progress = nextMicroTask.then(function () {\n      progress = null;\n\n      if (cancelled) {\n        cancelled = false;\n        return;\n      }\n\n      callback.apply(void 0, args);\n    });\n  };\n\n  fn.wait = function () {\n    if (progress === null) {\n      throw new Error('The deferred function should be called before calling `wait()`');\n    }\n\n    return progress;\n  };\n\n  fn.cancel = function () {\n    if (progress === null) {\n      return;\n    }\n\n    cancelled = true;\n  };\n\n  return fn;\n};\n\nexport default defer;","map":{"version":3,"names":["nextMicroTask","Promise","resolve","defer","callback","progress","cancelled","fn","_len","arguments","length","args","Array","_key","then","apply","wait","Error","cancel"],"sources":["/Users/christoalex/Algolia/my-app/node_modules/instantsearch.js/es/lib/utils/defer.js"],"sourcesContent":["var nextMicroTask = Promise.resolve();\n\nvar defer = function defer(callback) {\n  var progress = null;\n  var cancelled = false;\n\n  var fn = function fn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (progress !== null) {\n      return;\n    }\n\n    progress = nextMicroTask.then(function () {\n      progress = null;\n\n      if (cancelled) {\n        cancelled = false;\n        return;\n      }\n\n      callback.apply(void 0, args);\n    });\n  };\n\n  fn.wait = function () {\n    if (progress === null) {\n      throw new Error('The deferred function should be called before calling `wait()`');\n    }\n\n    return progress;\n  };\n\n  fn.cancel = function () {\n    if (progress === null) {\n      return;\n    }\n\n    cancelled = true;\n  };\n\n  return fn;\n};\n\nexport default defer;"],"mappings":"AAAA,IAAIA,aAAa,GAAGC,OAAO,CAACC,OAAR,EAApB;;AAEA,IAAIC,KAAK,GAAG,SAASA,KAAT,CAAeC,QAAf,EAAyB;EACnC,IAAIC,QAAQ,GAAG,IAAf;EACA,IAAIC,SAAS,GAAG,KAAhB;;EAEA,IAAIC,EAAE,GAAG,SAASA,EAAT,GAAc;IACrB,KAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAG,IAAIC,KAAJ,CAAUJ,IAAV,CAApC,EAAqDK,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGL,IAA3E,EAAiFK,IAAI,EAArF,EAAyF;MACvFF,IAAI,CAACE,IAAD,CAAJ,GAAaJ,SAAS,CAACI,IAAD,CAAtB;IACD;;IAED,IAAIR,QAAQ,KAAK,IAAjB,EAAuB;MACrB;IACD;;IAEDA,QAAQ,GAAGL,aAAa,CAACc,IAAd,CAAmB,YAAY;MACxCT,QAAQ,GAAG,IAAX;;MAEA,IAAIC,SAAJ,EAAe;QACbA,SAAS,GAAG,KAAZ;QACA;MACD;;MAEDF,QAAQ,CAACW,KAAT,CAAe,KAAK,CAApB,EAAuBJ,IAAvB;IACD,CATU,CAAX;EAUD,CAnBD;;EAqBAJ,EAAE,CAACS,IAAH,GAAU,YAAY;IACpB,IAAIX,QAAQ,KAAK,IAAjB,EAAuB;MACrB,MAAM,IAAIY,KAAJ,CAAU,gEAAV,CAAN;IACD;;IAED,OAAOZ,QAAP;EACD,CAND;;EAQAE,EAAE,CAACW,MAAH,GAAY,YAAY;IACtB,IAAIb,QAAQ,KAAK,IAAjB,EAAuB;MACrB;IACD;;IAEDC,SAAS,GAAG,IAAZ;EACD,CAND;;EAQA,OAAOC,EAAP;AACD,CA1CD;;AA4CA,eAAeJ,KAAf"},"metadata":{},"sourceType":"module"}