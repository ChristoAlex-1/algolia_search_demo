{"ast":null,"code":"function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport { checkRendering, createDocumentationMessageGenerator, getWidgetAttribute, noop, warning } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'dynamic-widgets',\n  connector: true\n});\nvar MAX_WILDCARD_FACETS = 20;\n\nvar connectDynamicWidgets = function connectDynamicWidgets(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var widgets = widgetParams.widgets,\n        _widgetParams$maxValu = widgetParams.maxValuesPerFacet,\n        maxValuesPerFacet = _widgetParams$maxValu === void 0 ? 20 : _widgetParams$maxValu,\n        _widgetParams$facets = widgetParams.facets,\n        facets = _widgetParams$facets === void 0 ? ['*'] : _widgetParams$facets,\n        _widgetParams$transfo = widgetParams.transformItems,\n        transformItems = _widgetParams$transfo === void 0 ? function (items) {\n      return items;\n    } : _widgetParams$transfo,\n        fallbackWidget = widgetParams.fallbackWidget;\n\n    if (!(widgets && Array.isArray(widgets) && widgets.every(function (widget) {\n      return _typeof(widget) === 'object';\n    }))) {\n      throw new Error(withUsage('The `widgets` option expects an array of widgets.'));\n    }\n\n    if (!(Array.isArray(facets) && facets.length <= 1 && (facets[0] === '*' || facets[0] === undefined))) {\n      throw new Error(withUsage(\"The `facets` option only accepts [] or [\\\"*\\\"], you passed \".concat(JSON.stringify(facets))));\n    }\n\n    var localWidgets = new Map();\n    return {\n      $$type: 'ais.dynamicWidgets',\n      init: function init(initOptions) {\n        widgets.forEach(function (widget) {\n          var attribute = getWidgetAttribute(widget, initOptions);\n          localWidgets.set(attribute, {\n            widget: widget,\n            isMounted: false\n          });\n        });\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var parent = renderOptions.parent;\n        var renderState = this.getWidgetRenderState(renderOptions);\n        var widgetsToUnmount = [];\n        var widgetsToMount = [];\n\n        if (fallbackWidget) {\n          renderState.attributesToRender.forEach(function (attribute) {\n            if (!localWidgets.has(attribute)) {\n              var widget = fallbackWidget({\n                attribute: attribute\n              });\n              localWidgets.set(attribute, {\n                widget: widget,\n                isMounted: false\n              });\n            }\n          });\n        }\n\n        localWidgets.forEach(function (_ref, attribute) {\n          var widget = _ref.widget,\n              isMounted = _ref.isMounted;\n          var shouldMount = renderState.attributesToRender.indexOf(attribute) > -1;\n\n          if (!isMounted && shouldMount) {\n            widgetsToMount.push(widget);\n            localWidgets.set(attribute, {\n              widget: widget,\n              isMounted: true\n            });\n          } else if (isMounted && !shouldMount) {\n            widgetsToUnmount.push(widget);\n            localWidgets.set(attribute, {\n              widget: widget,\n              isMounted: false\n            });\n          }\n        });\n        parent.addWidgets(widgetsToMount); // make sure this only happens after the regular render, otherwise it\n        // happens too quick, since render is \"deferred\" for the next microtask,\n        // so this needs to be a whole task later\n\n        setTimeout(function () {\n          return parent.removeWidgets(widgetsToUnmount);\n        }, 0);\n        renderFn(_objectSpread(_objectSpread({}, renderState), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var parent = _ref2.parent;\n        var toRemove = [];\n        localWidgets.forEach(function (_ref3) {\n          var widget = _ref3.widget,\n              isMounted = _ref3.isMounted;\n\n          if (isMounted) {\n            toRemove.push(widget);\n          }\n        });\n        parent.removeWidgets(toRemove);\n        unmountFn();\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state) {\n        // broadening the scope of facets to avoid conflict between never and *\n        return facets.reduce(function (acc, curr) {\n          return acc.addFacet(curr);\n        }, state.setQueryParameters({\n          maxValuesPerFacet: Math.max(maxValuesPerFacet || 0, state.maxValuesPerFacet || 0)\n        }));\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          dynamicWidgets: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref4) {\n        var _results$renderingCon, _results$renderingCon2, _results$renderingCon3, _results$renderingCon4;\n\n        var results = _ref4.results,\n            state = _ref4.state;\n\n        if (!results) {\n          return {\n            attributesToRender: [],\n            widgetParams: widgetParams\n          };\n        }\n\n        var attributesToRender = transformItems((_results$renderingCon = (_results$renderingCon2 = results.renderingContent) === null || _results$renderingCon2 === void 0 ? void 0 : (_results$renderingCon3 = _results$renderingCon2.facetOrdering) === null || _results$renderingCon3 === void 0 ? void 0 : (_results$renderingCon4 = _results$renderingCon3.facets) === null || _results$renderingCon4 === void 0 ? void 0 : _results$renderingCon4.order) !== null && _results$renderingCon !== void 0 ? _results$renderingCon : [], {\n          results: results\n        });\n\n        if (!Array.isArray(attributesToRender)) {\n          throw new Error(withUsage('The `transformItems` option expects a function that returns an Array.'));\n        }\n\n        process.env.NODE_ENV === 'development' ? warning(maxValuesPerFacet >= (state.maxValuesPerFacet || 0), \"The maxValuesPerFacet set by dynamic widgets (\".concat(maxValuesPerFacet, \") is smaller than one of the limits set by a widget (\").concat(state.maxValuesPerFacet, \"). This causes a mismatch in query parameters and thus an extra network request when that widget is mounted.\")) : void 0;\n        process.env.NODE_ENV === 'development' ? warning(attributesToRender.length <= MAX_WILDCARD_FACETS || widgetParams.facets !== undefined, \"More than \".concat(MAX_WILDCARD_FACETS, \" facets are requested to be displayed without explicitly setting which facets to retrieve. This could have a performance impact. Set \\\"facets\\\" to [] to do two smaller network requests, or explicitly to ['*'] to avoid this warning.\")) : void 0;\n        return {\n          attributesToRender: attributesToRender,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\n\nexport default connectDynamicWidgets;","map":{"version":3,"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_typeof","Symbol","iterator","constructor","prototype","checkRendering","createDocumentationMessageGenerator","getWidgetAttribute","noop","warning","withUsage","name","connector","MAX_WILDCARD_FACETS","connectDynamicWidgets","renderFn","unmountFn","undefined","widgetParams","widgets","_widgetParams$maxValu","maxValuesPerFacet","_widgetParams$facets","facets","_widgetParams$transfo","transformItems","items","fallbackWidget","Array","isArray","every","widget","Error","concat","JSON","stringify","localWidgets","Map","$$type","init","initOptions","attribute","set","isMounted","getWidgetRenderState","instantSearchInstance","render","renderOptions","parent","renderState","widgetsToUnmount","widgetsToMount","attributesToRender","has","_ref","shouldMount","indexOf","addWidgets","setTimeout","removeWidgets","dispose","_ref2","toRemove","_ref3","getWidgetSearchParameters","state","reduce","acc","curr","addFacet","setQueryParameters","Math","max","getRenderState","dynamicWidgets","_ref4","_results$renderingCon","_results$renderingCon2","_results$renderingCon3","_results$renderingCon4","results","renderingContent","facetOrdering","order","process","env","NODE_ENV"],"sources":["/Users/christoalex/Algolia/my-app/node_modules/instantsearch.js/es/connectors/dynamic-widgets/connectDynamicWidgets.js"],"sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { checkRendering, createDocumentationMessageGenerator, getWidgetAttribute, noop, warning } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'dynamic-widgets',\n  connector: true\n});\nvar MAX_WILDCARD_FACETS = 20;\n\nvar connectDynamicWidgets = function connectDynamicWidgets(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var widgets = widgetParams.widgets,\n        _widgetParams$maxValu = widgetParams.maxValuesPerFacet,\n        maxValuesPerFacet = _widgetParams$maxValu === void 0 ? 20 : _widgetParams$maxValu,\n        _widgetParams$facets = widgetParams.facets,\n        facets = _widgetParams$facets === void 0 ? ['*'] : _widgetParams$facets,\n        _widgetParams$transfo = widgetParams.transformItems,\n        transformItems = _widgetParams$transfo === void 0 ? function (items) {\n      return items;\n    } : _widgetParams$transfo,\n        fallbackWidget = widgetParams.fallbackWidget;\n\n    if (!(widgets && Array.isArray(widgets) && widgets.every(function (widget) {\n      return _typeof(widget) === 'object';\n    }))) {\n      throw new Error(withUsage('The `widgets` option expects an array of widgets.'));\n    }\n\n    if (!(Array.isArray(facets) && facets.length <= 1 && (facets[0] === '*' || facets[0] === undefined))) {\n      throw new Error(withUsage(\"The `facets` option only accepts [] or [\\\"*\\\"], you passed \".concat(JSON.stringify(facets))));\n    }\n\n    var localWidgets = new Map();\n    return {\n      $$type: 'ais.dynamicWidgets',\n      init: function init(initOptions) {\n        widgets.forEach(function (widget) {\n          var attribute = getWidgetAttribute(widget, initOptions);\n          localWidgets.set(attribute, {\n            widget: widget,\n            isMounted: false\n          });\n        });\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var parent = renderOptions.parent;\n        var renderState = this.getWidgetRenderState(renderOptions);\n        var widgetsToUnmount = [];\n        var widgetsToMount = [];\n\n        if (fallbackWidget) {\n          renderState.attributesToRender.forEach(function (attribute) {\n            if (!localWidgets.has(attribute)) {\n              var widget = fallbackWidget({\n                attribute: attribute\n              });\n              localWidgets.set(attribute, {\n                widget: widget,\n                isMounted: false\n              });\n            }\n          });\n        }\n\n        localWidgets.forEach(function (_ref, attribute) {\n          var widget = _ref.widget,\n              isMounted = _ref.isMounted;\n          var shouldMount = renderState.attributesToRender.indexOf(attribute) > -1;\n\n          if (!isMounted && shouldMount) {\n            widgetsToMount.push(widget);\n            localWidgets.set(attribute, {\n              widget: widget,\n              isMounted: true\n            });\n          } else if (isMounted && !shouldMount) {\n            widgetsToUnmount.push(widget);\n            localWidgets.set(attribute, {\n              widget: widget,\n              isMounted: false\n            });\n          }\n        });\n        parent.addWidgets(widgetsToMount); // make sure this only happens after the regular render, otherwise it\n        // happens too quick, since render is \"deferred\" for the next microtask,\n        // so this needs to be a whole task later\n\n        setTimeout(function () {\n          return parent.removeWidgets(widgetsToUnmount);\n        }, 0);\n        renderFn(_objectSpread(_objectSpread({}, renderState), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var parent = _ref2.parent;\n        var toRemove = [];\n        localWidgets.forEach(function (_ref3) {\n          var widget = _ref3.widget,\n              isMounted = _ref3.isMounted;\n\n          if (isMounted) {\n            toRemove.push(widget);\n          }\n        });\n        parent.removeWidgets(toRemove);\n        unmountFn();\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state) {\n        // broadening the scope of facets to avoid conflict between never and *\n        return facets.reduce(function (acc, curr) {\n          return acc.addFacet(curr);\n        }, state.setQueryParameters({\n          maxValuesPerFacet: Math.max(maxValuesPerFacet || 0, state.maxValuesPerFacet || 0)\n        }));\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          dynamicWidgets: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref4) {\n        var _results$renderingCon, _results$renderingCon2, _results$renderingCon3, _results$renderingCon4;\n\n        var results = _ref4.results,\n            state = _ref4.state;\n\n        if (!results) {\n          return {\n            attributesToRender: [],\n            widgetParams: widgetParams\n          };\n        }\n\n        var attributesToRender = transformItems((_results$renderingCon = (_results$renderingCon2 = results.renderingContent) === null || _results$renderingCon2 === void 0 ? void 0 : (_results$renderingCon3 = _results$renderingCon2.facetOrdering) === null || _results$renderingCon3 === void 0 ? void 0 : (_results$renderingCon4 = _results$renderingCon3.facets) === null || _results$renderingCon4 === void 0 ? void 0 : _results$renderingCon4.order) !== null && _results$renderingCon !== void 0 ? _results$renderingCon : [], {\n          results: results\n        });\n\n        if (!Array.isArray(attributesToRender)) {\n          throw new Error(withUsage('The `transformItems` option expects a function that returns an Array.'));\n        }\n\n        process.env.NODE_ENV === 'development' ? warning(maxValuesPerFacet >= (state.maxValuesPerFacet || 0), \"The maxValuesPerFacet set by dynamic widgets (\".concat(maxValuesPerFacet, \") is smaller than one of the limits set by a widget (\").concat(state.maxValuesPerFacet, \"). This causes a mismatch in query parameters and thus an extra network request when that widget is mounted.\")) : void 0;\n        process.env.NODE_ENV === 'development' ? warning(attributesToRender.length <= MAX_WILDCARD_FACETS || widgetParams.facets !== undefined, \"More than \".concat(MAX_WILDCARD_FACETS, \" facets are requested to be displayed without explicitly setting which facets to retrieve. This could have a performance impact. Set \\\"facets\\\" to [] to do two smaller network requests, or explicitly to ['*'] to avoid this warning.\")) : void 0;\n        return {\n          attributesToRender: attributesToRender,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\n\nexport default connectDynamicWidgets;"],"mappings":"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"},"metadata":{},"sourceType":"module"}