{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport qs from 'qs';\nimport { safelyRunOnBrowser } from \"../utils/index.js\";\n\nvar setWindowTitle = function setWindowTitle(title) {\n  if (title) {\n    // This function is only executed on browsers so we can disable this check.\n    // eslint-disable-next-line no-restricted-globals\n    window.document.title = title;\n  }\n};\n\nvar BrowserHistory = /*#__PURE__*/function () {\n  /**\n   * Initializes a new storage provider that syncs the search state to the URL\n   * using web APIs (`window.location.pushState` and `onpopstate` event).\n   */\n  function BrowserHistory(_ref) {\n    var _this = this;\n\n    var windowTitle = _ref.windowTitle,\n        _ref$writeDelay = _ref.writeDelay,\n        writeDelay = _ref$writeDelay === void 0 ? 400 : _ref$writeDelay,\n        createURL = _ref.createURL,\n        parseURL = _ref.parseURL,\n        getLocation = _ref.getLocation;\n\n    _classCallCheck(this, BrowserHistory);\n\n    _defineProperty(this, \"windowTitle\", void 0);\n\n    _defineProperty(this, \"writeDelay\", void 0);\n\n    _defineProperty(this, \"_createURL\", void 0);\n\n    _defineProperty(this, \"parseURL\", void 0);\n\n    _defineProperty(this, \"getLocation\", void 0);\n\n    _defineProperty(this, \"writeTimer\", void 0);\n\n    _defineProperty(this, \"inPopState\", false);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"latestAcknowledgedHistory\", 0);\n\n    this.windowTitle = windowTitle;\n    this.writeTimer = undefined;\n    this.writeDelay = writeDelay;\n    this._createURL = createURL;\n    this.parseURL = parseURL;\n    this.getLocation = getLocation;\n    safelyRunOnBrowser(function (_ref2) {\n      var window = _ref2.window;\n\n      var title = _this.windowTitle && _this.windowTitle(_this.read());\n\n      setWindowTitle(title);\n      _this.latestAcknowledgedHistory = window.history.length;\n    });\n  }\n  /**\n   * Reads the URL and returns a syncable UI search state.\n   */\n\n\n  _createClass(BrowserHistory, [{\n    key: \"read\",\n    value: function read() {\n      return this.parseURL({\n        qsModule: qs,\n        location: this.getLocation()\n      });\n    }\n    /**\n     * Pushes a search state into the URL.\n     */\n\n  }, {\n    key: \"write\",\n    value: function write(routeState) {\n      var _this2 = this;\n\n      safelyRunOnBrowser(function (_ref3) {\n        var window = _ref3.window;\n\n        var url = _this2.createURL(routeState);\n\n        var title = _this2.windowTitle && _this2.windowTitle(routeState);\n\n        if (_this2.writeTimer) {\n          clearTimeout(_this2.writeTimer);\n        }\n\n        _this2.writeTimer = setTimeout(function () {\n          setWindowTitle(title);\n\n          if (_this2.shouldWrite(url)) {\n            window.history.pushState(routeState, title || '', url);\n            _this2.latestAcknowledgedHistory = window.history.length;\n          }\n\n          _this2.inPopState = false;\n          _this2.writeTimer = undefined;\n        }, _this2.writeDelay);\n      });\n    }\n    /**\n     * Sets a callback on the `onpopstate` event of the history API of the current page.\n     * It enables the URL sync to keep track of the changes.\n     */\n\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(callback) {\n      var _this3 = this;\n\n      this._onPopState = function (event) {\n        if (_this3.writeTimer) {\n          clearTimeout(_this3.writeTimer);\n          _this3.writeTimer = undefined;\n        }\n\n        _this3.inPopState = true;\n        var routeState = event.state; // At initial load, the state is read from the URL without update.\n        // Therefore the state object is not available.\n        // In this case, we fallback and read the URL.\n\n        if (!routeState) {\n          callback(_this3.read());\n        } else {\n          callback(routeState);\n        }\n      };\n\n      safelyRunOnBrowser(function (_ref4) {\n        var window = _ref4.window;\n        window.addEventListener('popstate', _this3._onPopState);\n      });\n    }\n    /**\n     * Creates a complete URL from a given syncable UI state.\n     *\n     * It always generates the full URL, not a relative one.\n     * This allows to handle cases like using a <base href>.\n     * See: https://github.com/algolia/instantsearch.js/issues/790\n     */\n\n  }, {\n    key: \"createURL\",\n    value: function createURL(routeState) {\n      return this._createURL({\n        qsModule: qs,\n        routeState: routeState,\n        location: this.getLocation()\n      });\n    }\n    /**\n     * Removes the event listener and cleans up the URL.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var _this4 = this;\n\n      this.isDisposed = true;\n      safelyRunOnBrowser(function (_ref5) {\n        var window = _ref5.window;\n\n        if (_this4._onPopState) {\n          window.removeEventListener('popstate', _this4._onPopState);\n        }\n      });\n\n      if (this.writeTimer) {\n        clearTimeout(this.writeTimer);\n      }\n\n      this.write({});\n    }\n  }, {\n    key: \"shouldWrite\",\n    value: function shouldWrite(url) {\n      var _this5 = this;\n\n      return safelyRunOnBrowser(function (_ref6) {\n        var window = _ref6.window; // We do want to `pushState` if:\n        // - the router is not disposed, IS.js needs to update the URL\n        // OR\n        // - the last write was from InstantSearch.js\n        // (unlike a SPA, where it would have last written)\n\n        var lastPushWasByISAfterDispose = !(_this5.isDisposed && _this5.latestAcknowledgedHistory !== window.history.length);\n        return (// When the last state change was through popstate, the IS.js state changes,\n          // but that should not write the URL.\n          !_this5.inPopState && // When the previous pushState after dispose was by IS.js, we want to write the URL.\n          lastPushWasByISAfterDispose && // When the URL is the same as the current one, we do not want to write it.\n          url !== window.location.href\n        );\n      });\n    }\n  }]);\n\n  return BrowserHistory;\n}();\n\nexport default function historyRouter() {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref7$createURL = _ref7.createURL,\n      createURL = _ref7$createURL === void 0 ? function (_ref8) {\n    var qsModule = _ref8.qsModule,\n        routeState = _ref8.routeState,\n        location = _ref8.location;\n    var protocol = location.protocol,\n        hostname = location.hostname,\n        _location$port = location.port,\n        port = _location$port === void 0 ? '' : _location$port,\n        pathname = location.pathname,\n        hash = location.hash;\n    var queryString = qsModule.stringify(routeState);\n    var portWithPrefix = port === '' ? '' : \":\".concat(port); // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n    // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n\n    if (!queryString) {\n      return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname).concat(hash);\n    }\n\n    return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname, \"?\").concat(queryString).concat(hash);\n  } : _ref7$createURL,\n      _ref7$parseURL = _ref7.parseURL,\n      parseURL = _ref7$parseURL === void 0 ? function (_ref9) {\n    var qsModule = _ref9.qsModule,\n        location = _ref9.location; // `qs` by default converts arrays with more than 20 items to an object.\n    // We want to avoid this because the data structure manipulated can therefore vary.\n    // Setting the limit to `100` seems a good number because the engine's default is 100\n    // (it can go up to 1000 but it is very unlikely to select more than 100 items in the UI).\n    //\n    // Using an `arrayLimit` of `n` allows `n + 1` items.\n    //\n    // See:\n    //   - https://github.com/ljharb/qs#parsing-arrays\n    //   - https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/\n\n    return qsModule.parse(location.search.slice(1), {\n      arrayLimit: 99\n    });\n  } : _ref7$parseURL,\n      _ref7$writeDelay = _ref7.writeDelay,\n      writeDelay = _ref7$writeDelay === void 0 ? 400 : _ref7$writeDelay,\n      windowTitle = _ref7.windowTitle,\n      _ref7$getLocation = _ref7.getLocation,\n      getLocation = _ref7$getLocation === void 0 ? function () {\n    return safelyRunOnBrowser(function (_ref10) {\n      var window = _ref10.window;\n      return window.location;\n    }, {\n      fallback: function fallback() {\n        throw new Error('You need to provide `getLocation` to the `history` router in environments where `window` does not exist.');\n      }\n    });\n  } : _ref7$getLocation;\n\n  return new BrowserHistory({\n    createURL: createURL,\n    parseURL: parseURL,\n    writeDelay: writeDelay,\n    windowTitle: windowTitle,\n    getLocation: getLocation\n  });\n}","map":{"version":3,"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","value","qs","safelyRunOnBrowser","setWindowTitle","title","window","document","BrowserHistory","_ref","_this","windowTitle","_ref$writeDelay","writeDelay","createURL","parseURL","getLocation","writeTimer","undefined","_createURL","_ref2","read","latestAcknowledgedHistory","history","qsModule","location","write","routeState","_this2","_ref3","url","clearTimeout","setTimeout","shouldWrite","pushState","inPopState","onUpdate","callback","_this3","_onPopState","event","state","_ref4","addEventListener","dispose","_this4","isDisposed","_ref5","removeEventListener","_this5","_ref6","lastPushWasByISAfterDispose","href","historyRouter","_ref7","arguments","_ref7$createURL","_ref8","protocol","hostname","_location$port","port","pathname","hash","queryString","stringify","portWithPrefix","concat","_ref7$parseURL","_ref9","parse","search","slice","arrayLimit","_ref7$writeDelay","_ref7$getLocation","_ref10","fallback","Error"],"sources":["/Users/christoalex/Algolia/my-app/node_modules/instantsearch.js/es/lib/routers/history.js"],"sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport qs from 'qs';\nimport { safelyRunOnBrowser } from \"../utils/index.js\";\n\nvar setWindowTitle = function setWindowTitle(title) {\n  if (title) {\n    // This function is only executed on browsers so we can disable this check.\n    // eslint-disable-next-line no-restricted-globals\n    window.document.title = title;\n  }\n};\n\nvar BrowserHistory = /*#__PURE__*/function () {\n  /**\n   * Initializes a new storage provider that syncs the search state to the URL\n   * using web APIs (`window.location.pushState` and `onpopstate` event).\n   */\n  function BrowserHistory(_ref) {\n    var _this = this;\n\n    var windowTitle = _ref.windowTitle,\n        _ref$writeDelay = _ref.writeDelay,\n        writeDelay = _ref$writeDelay === void 0 ? 400 : _ref$writeDelay,\n        createURL = _ref.createURL,\n        parseURL = _ref.parseURL,\n        getLocation = _ref.getLocation;\n\n    _classCallCheck(this, BrowserHistory);\n\n    _defineProperty(this, \"windowTitle\", void 0);\n\n    _defineProperty(this, \"writeDelay\", void 0);\n\n    _defineProperty(this, \"_createURL\", void 0);\n\n    _defineProperty(this, \"parseURL\", void 0);\n\n    _defineProperty(this, \"getLocation\", void 0);\n\n    _defineProperty(this, \"writeTimer\", void 0);\n\n    _defineProperty(this, \"inPopState\", false);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"latestAcknowledgedHistory\", 0);\n\n    this.windowTitle = windowTitle;\n    this.writeTimer = undefined;\n    this.writeDelay = writeDelay;\n    this._createURL = createURL;\n    this.parseURL = parseURL;\n    this.getLocation = getLocation;\n    safelyRunOnBrowser(function (_ref2) {\n      var window = _ref2.window;\n\n      var title = _this.windowTitle && _this.windowTitle(_this.read());\n\n      setWindowTitle(title);\n      _this.latestAcknowledgedHistory = window.history.length;\n    });\n  }\n  /**\n   * Reads the URL and returns a syncable UI search state.\n   */\n\n\n  _createClass(BrowserHistory, [{\n    key: \"read\",\n    value: function read() {\n      return this.parseURL({\n        qsModule: qs,\n        location: this.getLocation()\n      });\n    }\n    /**\n     * Pushes a search state into the URL.\n     */\n\n  }, {\n    key: \"write\",\n    value: function write(routeState) {\n      var _this2 = this;\n\n      safelyRunOnBrowser(function (_ref3) {\n        var window = _ref3.window;\n\n        var url = _this2.createURL(routeState);\n\n        var title = _this2.windowTitle && _this2.windowTitle(routeState);\n\n        if (_this2.writeTimer) {\n          clearTimeout(_this2.writeTimer);\n        }\n\n        _this2.writeTimer = setTimeout(function () {\n          setWindowTitle(title);\n\n          if (_this2.shouldWrite(url)) {\n            window.history.pushState(routeState, title || '', url);\n            _this2.latestAcknowledgedHistory = window.history.length;\n          }\n\n          _this2.inPopState = false;\n          _this2.writeTimer = undefined;\n        }, _this2.writeDelay);\n      });\n    }\n    /**\n     * Sets a callback on the `onpopstate` event of the history API of the current page.\n     * It enables the URL sync to keep track of the changes.\n     */\n\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(callback) {\n      var _this3 = this;\n\n      this._onPopState = function (event) {\n        if (_this3.writeTimer) {\n          clearTimeout(_this3.writeTimer);\n          _this3.writeTimer = undefined;\n        }\n\n        _this3.inPopState = true;\n        var routeState = event.state; // At initial load, the state is read from the URL without update.\n        // Therefore the state object is not available.\n        // In this case, we fallback and read the URL.\n\n        if (!routeState) {\n          callback(_this3.read());\n        } else {\n          callback(routeState);\n        }\n      };\n\n      safelyRunOnBrowser(function (_ref4) {\n        var window = _ref4.window;\n        window.addEventListener('popstate', _this3._onPopState);\n      });\n    }\n    /**\n     * Creates a complete URL from a given syncable UI state.\n     *\n     * It always generates the full URL, not a relative one.\n     * This allows to handle cases like using a <base href>.\n     * See: https://github.com/algolia/instantsearch.js/issues/790\n     */\n\n  }, {\n    key: \"createURL\",\n    value: function createURL(routeState) {\n      return this._createURL({\n        qsModule: qs,\n        routeState: routeState,\n        location: this.getLocation()\n      });\n    }\n    /**\n     * Removes the event listener and cleans up the URL.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var _this4 = this;\n\n      this.isDisposed = true;\n      safelyRunOnBrowser(function (_ref5) {\n        var window = _ref5.window;\n\n        if (_this4._onPopState) {\n          window.removeEventListener('popstate', _this4._onPopState);\n        }\n      });\n\n      if (this.writeTimer) {\n        clearTimeout(this.writeTimer);\n      }\n\n      this.write({});\n    }\n  }, {\n    key: \"shouldWrite\",\n    value: function shouldWrite(url) {\n      var _this5 = this;\n\n      return safelyRunOnBrowser(function (_ref6) {\n        var window = _ref6.window;\n        // We do want to `pushState` if:\n        // - the router is not disposed, IS.js needs to update the URL\n        // OR\n        // - the last write was from InstantSearch.js\n        // (unlike a SPA, where it would have last written)\n        var lastPushWasByISAfterDispose = !(_this5.isDisposed && _this5.latestAcknowledgedHistory !== window.history.length);\n        return (// When the last state change was through popstate, the IS.js state changes,\n          // but that should not write the URL.\n          !_this5.inPopState && // When the previous pushState after dispose was by IS.js, we want to write the URL.\n          lastPushWasByISAfterDispose && // When the URL is the same as the current one, we do not want to write it.\n          url !== window.location.href\n        );\n      });\n    }\n  }]);\n\n  return BrowserHistory;\n}();\n\nexport default function historyRouter() {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref7$createURL = _ref7.createURL,\n      createURL = _ref7$createURL === void 0 ? function (_ref8) {\n    var qsModule = _ref8.qsModule,\n        routeState = _ref8.routeState,\n        location = _ref8.location;\n    var protocol = location.protocol,\n        hostname = location.hostname,\n        _location$port = location.port,\n        port = _location$port === void 0 ? '' : _location$port,\n        pathname = location.pathname,\n        hash = location.hash;\n    var queryString = qsModule.stringify(routeState);\n    var portWithPrefix = port === '' ? '' : \":\".concat(port); // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n\n    // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n    if (!queryString) {\n      return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname).concat(hash);\n    }\n\n    return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname, \"?\").concat(queryString).concat(hash);\n  } : _ref7$createURL,\n      _ref7$parseURL = _ref7.parseURL,\n      parseURL = _ref7$parseURL === void 0 ? function (_ref9) {\n    var qsModule = _ref9.qsModule,\n        location = _ref9.location;\n    // `qs` by default converts arrays with more than 20 items to an object.\n    // We want to avoid this because the data structure manipulated can therefore vary.\n    // Setting the limit to `100` seems a good number because the engine's default is 100\n    // (it can go up to 1000 but it is very unlikely to select more than 100 items in the UI).\n    //\n    // Using an `arrayLimit` of `n` allows `n + 1` items.\n    //\n    // See:\n    //   - https://github.com/ljharb/qs#parsing-arrays\n    //   - https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/\n    return qsModule.parse(location.search.slice(1), {\n      arrayLimit: 99\n    });\n  } : _ref7$parseURL,\n      _ref7$writeDelay = _ref7.writeDelay,\n      writeDelay = _ref7$writeDelay === void 0 ? 400 : _ref7$writeDelay,\n      windowTitle = _ref7.windowTitle,\n      _ref7$getLocation = _ref7.getLocation,\n      getLocation = _ref7$getLocation === void 0 ? function () {\n    return safelyRunOnBrowser(function (_ref10) {\n      var window = _ref10.window;\n      return window.location;\n    }, {\n      fallback: function fallback() {\n        throw new Error('You need to provide `getLocation` to the `history` router in environments where `window` does not exist.');\n      }\n    });\n  } : _ref7$getLocation;\n\n  return new BrowserHistory({\n    createURL: createURL,\n    parseURL: parseURL,\n    writeDelay: writeDelay,\n    windowTitle: windowTitle,\n    getLocation: getLocation\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}