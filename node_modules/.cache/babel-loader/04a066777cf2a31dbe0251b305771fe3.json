{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\", \"fallbackComponent\"];\nimport React, { Fragment } from 'react';\nimport { useDynamicWidgets } from \"../connectors/useDynamicWidgets.js\";\nimport { invariant } from \"../lib/invariant.js\";\n\nfunction FallbackComponent() {\n  return null;\n}\n\nexport function DynamicWidgets(_ref) {\n  var children = _ref.children,\n      _ref$fallbackComponen = _ref.fallbackComponent,\n      Fallback = _ref$fallbackComponen === void 0 ? FallbackComponent : _ref$fallbackComponen,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useDynamicWidgets = useDynamicWidgets(props, {\n    $$widgetType: 'ais.dynamicWidgets'\n  }),\n      attributesToRender = _useDynamicWidgets.attributesToRender;\n\n  var widgets = new Map();\n  React.Children.forEach(children, function (child) {\n    var attribute = getWidgetAttribute(child);\n    invariant(attribute !== undefined, \"<DynamicWidgets> only supports InstantSearch widgets with an `attribute` or `attributes` prop.\");\n    widgets.set(attribute, child);\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, attributesToRender.map(function (attribute) {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: attribute\n    }, widgets.get(attribute) || /*#__PURE__*/React.createElement(Fallback, {\n      attribute: attribute\n    }));\n  }));\n}\n\nfunction isReactElement(element) {\n  return _typeof(element) === 'object' && element.props;\n}\n\nfunction getWidgetAttribute(element) {\n  if (!isReactElement(element)) {\n    return undefined;\n  }\n\n  if (element.props.attribute) {\n    return element.props.attribute;\n  }\n\n  if (Array.isArray(element.props.attributes)) {\n    return element.props.attributes[0];\n  }\n\n  if (element.props.children) {\n    invariant(React.Children.count(element.props.children) === 1, \"<DynamicWidgets> only supports a single component in nested components. Make sure to not render multiple children in a parent component.\\n\\nExample of an unsupported scenario:\\n\\n```\\n<DynamicWidgets>\\n  <MyComponent>\\n    <RefinementList attribute=\\\"brand\\\" />\\n    <Menu attribute=\\\"categories\\\" />\\n  </MyComponent>\\n</DynamicWidgets>\\n```\\n\");\n    return getWidgetAttribute(React.Children.only(element.props.children));\n  }\n\n  return undefined;\n}","map":{"version":3,"names":["_typeof","_objectWithoutProperties","_excluded","React","Fragment","useDynamicWidgets","invariant","FallbackComponent","DynamicWidgets","_ref","children","_ref$fallbackComponen","fallbackComponent","Fallback","props","_useDynamicWidgets","$$widgetType","attributesToRender","widgets","Map","Children","forEach","child","attribute","getWidgetAttribute","undefined","set","createElement","map","key","get","isReactElement","element","Array","isArray","attributes","count","only"],"sources":["/Users/christoalex/Algolia/my-app/node_modules/react-instantsearch-hooks/dist/es/components/DynamicWidgets.js"],"sourcesContent":["import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\", \"fallbackComponent\"];\nimport React, { Fragment } from 'react';\nimport { useDynamicWidgets } from \"../connectors/useDynamicWidgets.js\";\nimport { invariant } from \"../lib/invariant.js\";\n\nfunction FallbackComponent() {\n  return null;\n}\n\nexport function DynamicWidgets(_ref) {\n  var children = _ref.children,\n      _ref$fallbackComponen = _ref.fallbackComponent,\n      Fallback = _ref$fallbackComponen === void 0 ? FallbackComponent : _ref$fallbackComponen,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useDynamicWidgets = useDynamicWidgets(props, {\n    $$widgetType: 'ais.dynamicWidgets'\n  }),\n      attributesToRender = _useDynamicWidgets.attributesToRender;\n\n  var widgets = new Map();\n  React.Children.forEach(children, function (child) {\n    var attribute = getWidgetAttribute(child);\n    invariant(attribute !== undefined, \"<DynamicWidgets> only supports InstantSearch widgets with an `attribute` or `attributes` prop.\");\n    widgets.set(attribute, child);\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, attributesToRender.map(function (attribute) {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: attribute\n    }, widgets.get(attribute) || /*#__PURE__*/React.createElement(Fallback, {\n      attribute: attribute\n    }));\n  }));\n}\n\nfunction isReactElement(element) {\n  return _typeof(element) === 'object' && element.props;\n}\n\nfunction getWidgetAttribute(element) {\n  if (!isReactElement(element)) {\n    return undefined;\n  }\n\n  if (element.props.attribute) {\n    return element.props.attribute;\n  }\n\n  if (Array.isArray(element.props.attributes)) {\n    return element.props.attributes[0];\n  }\n\n  if (element.props.children) {\n    invariant(React.Children.count(element.props.children) === 1, \"<DynamicWidgets> only supports a single component in nested components. Make sure to not render multiple children in a parent component.\\n\\nExample of an unsupported scenario:\\n\\n```\\n<DynamicWidgets>\\n  <MyComponent>\\n    <RefinementList attribute=\\\"brand\\\" />\\n    <Menu attribute=\\\"categories\\\" />\\n  </MyComponent>\\n</DynamicWidgets>\\n```\\n\");\n    return getWidgetAttribute(React.Children.only(element.props.children));\n  }\n\n  return undefined;\n}"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,mCAApB;AACA,OAAOC,wBAAP,MAAqC,oDAArC;AACA,IAAIC,SAAS,GAAG,CAAC,UAAD,EAAa,mBAAb,CAAhB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,iBAAT,QAAkC,oCAAlC;AACA,SAASC,SAAT,QAA0B,qBAA1B;;AAEA,SAASC,iBAAT,GAA6B;EAC3B,OAAO,IAAP;AACD;;AAED,OAAO,SAASC,cAAT,CAAwBC,IAAxB,EAA8B;EACnC,IAAIC,QAAQ,GAAGD,IAAI,CAACC,QAApB;EAAA,IACIC,qBAAqB,GAAGF,IAAI,CAACG,iBADjC;EAAA,IAEIC,QAAQ,GAAGF,qBAAqB,KAAK,KAAK,CAA/B,GAAmCJ,iBAAnC,GAAuDI,qBAFtE;EAAA,IAGIG,KAAK,GAAGb,wBAAwB,CAACQ,IAAD,EAAOP,SAAP,CAHpC;;EAKA,IAAIa,kBAAkB,GAAGV,iBAAiB,CAACS,KAAD,EAAQ;IAChDE,YAAY,EAAE;EADkC,CAAR,CAA1C;EAAA,IAGIC,kBAAkB,GAAGF,kBAAkB,CAACE,kBAH5C;;EAKA,IAAIC,OAAO,GAAG,IAAIC,GAAJ,EAAd;EACAhB,KAAK,CAACiB,QAAN,CAAeC,OAAf,CAAuBX,QAAvB,EAAiC,UAAUY,KAAV,EAAiB;IAChD,IAAIC,SAAS,GAAGC,kBAAkB,CAACF,KAAD,CAAlC;IACAhB,SAAS,CAACiB,SAAS,KAAKE,SAAf,EAA0B,gGAA1B,CAAT;IACAP,OAAO,CAACQ,GAAR,CAAYH,SAAZ,EAAuBD,KAAvB;EACD,CAJD;EAKA,OAAO,aAAanB,KAAK,CAACwB,aAAN,CAAoBxB,KAAK,CAACC,QAA1B,EAAoC,IAApC,EAA0Ca,kBAAkB,CAACW,GAAnB,CAAuB,UAAUL,SAAV,EAAqB;IACxG,OAAO,aAAapB,KAAK,CAACwB,aAAN,CAAoBvB,QAApB,EAA8B;MAChDyB,GAAG,EAAEN;IAD2C,CAA9B,EAEjBL,OAAO,CAACY,GAAR,CAAYP,SAAZ,KAA0B,aAAapB,KAAK,CAACwB,aAAN,CAAoBd,QAApB,EAA8B;MACtEU,SAAS,EAAEA;IAD2D,CAA9B,CAFtB,CAApB;EAKD,CAN6D,CAA1C,CAApB;AAOD;;AAED,SAASQ,cAAT,CAAwBC,OAAxB,EAAiC;EAC/B,OAAOhC,OAAO,CAACgC,OAAD,CAAP,KAAqB,QAArB,IAAiCA,OAAO,CAAClB,KAAhD;AACD;;AAED,SAASU,kBAAT,CAA4BQ,OAA5B,EAAqC;EACnC,IAAI,CAACD,cAAc,CAACC,OAAD,CAAnB,EAA8B;IAC5B,OAAOP,SAAP;EACD;;EAED,IAAIO,OAAO,CAAClB,KAAR,CAAcS,SAAlB,EAA6B;IAC3B,OAAOS,OAAO,CAAClB,KAAR,CAAcS,SAArB;EACD;;EAED,IAAIU,KAAK,CAACC,OAAN,CAAcF,OAAO,CAAClB,KAAR,CAAcqB,UAA5B,CAAJ,EAA6C;IAC3C,OAAOH,OAAO,CAAClB,KAAR,CAAcqB,UAAd,CAAyB,CAAzB,CAAP;EACD;;EAED,IAAIH,OAAO,CAAClB,KAAR,CAAcJ,QAAlB,EAA4B;IAC1BJ,SAAS,CAACH,KAAK,CAACiB,QAAN,CAAegB,KAAf,CAAqBJ,OAAO,CAAClB,KAAR,CAAcJ,QAAnC,MAAiD,CAAlD,EAAqD,0VAArD,CAAT;IACA,OAAOc,kBAAkB,CAACrB,KAAK,CAACiB,QAAN,CAAeiB,IAAf,CAAoBL,OAAO,CAAClB,KAAR,CAAcJ,QAAlC,CAAD,CAAzB;EACD;;EAED,OAAOe,SAAP;AACD"},"metadata":{},"sourceType":"module"}