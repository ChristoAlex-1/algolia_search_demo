{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport isFacetRefined from \"./isFacetRefined.js\";\nexport function createSendEventForFacet(_ref) {\n  var instantSearchInstance = _ref.instantSearchInstance,\n      helper = _ref.helper,\n      attribute = _ref.attribute,\n      widgetType = _ref.widgetType;\n\n  var sendEventForFacet = function sendEventForFacet() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var eventType = args[0],\n        facetValue = args[1],\n        _args$ = args[2],\n        eventName = _args$ === void 0 ? 'Filter Applied' : _args$;\n\n    if (args.length === 1 && _typeof(args[0]) === 'object') {\n      instantSearchInstance.sendEventToInsights(args[0]);\n    } else if (eventType === 'click' && (args.length === 2 || args.length === 3)) {\n      if (!isFacetRefined(helper, attribute, facetValue)) {\n        // send event only when the facet is being checked \"ON\"\n        instantSearchInstance.sendEventToInsights({\n          insightsMethod: 'clickedFilters',\n          widgetType: widgetType,\n          eventType: eventType,\n          payload: {\n            eventName: eventName,\n            index: helper.getIndex(),\n            filters: [\"\".concat(attribute, \":\").concat(facetValue)]\n          },\n          attribute: attribute\n        });\n      }\n    } else if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass two arguments like:\\n  sendEvent('click', facetValue);\\n\\nIf you want to send a custom payload, you can pass one object: sendEvent(customPayload);\\n\");\n    }\n  };\n\n  return sendEventForFacet;\n}","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","isFacetRefined","createSendEventForFacet","_ref","instantSearchInstance","helper","attribute","widgetType","sendEventForFacet","_len","arguments","length","args","Array","_key","eventType","facetValue","_args$","eventName","sendEventToInsights","insightsMethod","payload","index","getIndex","filters","concat","process","env","NODE_ENV","Error"],"sources":["/Users/christoalex/Algolia/my-app/node_modules/instantsearch.js/es/lib/utils/createSendEventForFacet.js"],"sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport isFacetRefined from \"./isFacetRefined.js\";\nexport function createSendEventForFacet(_ref) {\n  var instantSearchInstance = _ref.instantSearchInstance,\n      helper = _ref.helper,\n      attribute = _ref.attribute,\n      widgetType = _ref.widgetType;\n\n  var sendEventForFacet = function sendEventForFacet() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var eventType = args[0],\n        facetValue = args[1],\n        _args$ = args[2],\n        eventName = _args$ === void 0 ? 'Filter Applied' : _args$;\n\n    if (args.length === 1 && _typeof(args[0]) === 'object') {\n      instantSearchInstance.sendEventToInsights(args[0]);\n    } else if (eventType === 'click' && (args.length === 2 || args.length === 3)) {\n      if (!isFacetRefined(helper, attribute, facetValue)) {\n        // send event only when the facet is being checked \"ON\"\n        instantSearchInstance.sendEventToInsights({\n          insightsMethod: 'clickedFilters',\n          widgetType: widgetType,\n          eventType: eventType,\n          payload: {\n            eventName: eventName,\n            index: helper.getIndex(),\n            filters: [\"\".concat(attribute, \":\").concat(facetValue)]\n          },\n          attribute: attribute\n        });\n      }\n    } else if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass two arguments like:\\n  sendEvent('click', facetValue);\\n\\nIf you want to send a custom payload, you can pass one object: sendEvent(customPayload);\\n\");\n    }\n  };\n\n  return sendEventForFacet;\n}"],"mappings":"AAAA,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;EAAE;;EAA2B,IAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;IAAEH,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;MAAE,OAAO,OAAOA,GAAd;IAAoB,CAAtD;EAAyD,CAApI,MAA0I;IAAED,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;MAAE,OAAOA,GAAG,IAAI,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,GAAG,CAACG,WAAJ,KAAoBF,MAA3D,IAAqED,GAAG,KAAKC,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAOJ,GAAzH;IAA+H,CAAjK;EAAoK;;EAAC,OAAOD,OAAO,CAACC,GAAD,CAAd;AAAsB;;AAE1X,OAAOK,cAAP,MAA2B,qBAA3B;AACA,OAAO,SAASC,uBAAT,CAAiCC,IAAjC,EAAuC;EAC5C,IAAIC,qBAAqB,GAAGD,IAAI,CAACC,qBAAjC;EAAA,IACIC,MAAM,GAAGF,IAAI,CAACE,MADlB;EAAA,IAEIC,SAAS,GAAGH,IAAI,CAACG,SAFrB;EAAA,IAGIC,UAAU,GAAGJ,IAAI,CAACI,UAHtB;;EAKA,IAAIC,iBAAiB,GAAG,SAASA,iBAAT,GAA6B;IACnD,KAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAG,IAAIC,KAAJ,CAAUJ,IAAV,CAApC,EAAqDK,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGL,IAA3E,EAAiFK,IAAI,EAArF,EAAyF;MACvFF,IAAI,CAACE,IAAD,CAAJ,GAAaJ,SAAS,CAACI,IAAD,CAAtB;IACD;;IAED,IAAIC,SAAS,GAAGH,IAAI,CAAC,CAAD,CAApB;IAAA,IACII,UAAU,GAAGJ,IAAI,CAAC,CAAD,CADrB;IAAA,IAEIK,MAAM,GAAGL,IAAI,CAAC,CAAD,CAFjB;IAAA,IAGIM,SAAS,GAAGD,MAAM,KAAK,KAAK,CAAhB,GAAoB,gBAApB,GAAuCA,MAHvD;;IAKA,IAAIL,IAAI,CAACD,MAAL,KAAgB,CAAhB,IAAqBhB,OAAO,CAACiB,IAAI,CAAC,CAAD,CAAL,CAAP,KAAqB,QAA9C,EAAwD;MACtDR,qBAAqB,CAACe,mBAAtB,CAA0CP,IAAI,CAAC,CAAD,CAA9C;IACD,CAFD,MAEO,IAAIG,SAAS,KAAK,OAAd,KAA0BH,IAAI,CAACD,MAAL,KAAgB,CAAhB,IAAqBC,IAAI,CAACD,MAAL,KAAgB,CAA/D,CAAJ,EAAuE;MAC5E,IAAI,CAACV,cAAc,CAACI,MAAD,EAASC,SAAT,EAAoBU,UAApB,CAAnB,EAAoD;QAClD;QACAZ,qBAAqB,CAACe,mBAAtB,CAA0C;UACxCC,cAAc,EAAE,gBADwB;UAExCb,UAAU,EAAEA,UAF4B;UAGxCQ,SAAS,EAAEA,SAH6B;UAIxCM,OAAO,EAAE;YACPH,SAAS,EAAEA,SADJ;YAEPI,KAAK,EAAEjB,MAAM,CAACkB,QAAP,EAFA;YAGPC,OAAO,EAAE,CAAC,GAAGC,MAAH,CAAUnB,SAAV,EAAqB,GAArB,EAA0BmB,MAA1B,CAAiCT,UAAjC,CAAD;UAHF,CAJ+B;UASxCV,SAAS,EAAEA;QAT6B,CAA1C;MAWD;IACF,CAfM,MAeA,IAAIoB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;MACjD,MAAM,IAAIC,KAAJ,CAAU,uKAAV,CAAN;IACD;EACF,CA9BD;;EAgCA,OAAOrB,iBAAP;AACD"},"metadata":{},"sourceType":"module"}