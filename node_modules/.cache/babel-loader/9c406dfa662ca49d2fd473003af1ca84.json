{"ast":null,"code":"/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline = /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n  Hogan.tags = {\n    '#': 1,\n    '^': 2,\n    '<': 3,\n    '$': 4,\n    '/': 5,\n    '!': 6,\n    '>': 7,\n    '=': 8,\n    '_v': 9,\n    '{': 10,\n    '&': 11,\n    '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({\n          tag: '_t',\n          text: new String(buf)\n        });\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace = Hogan.tags[tokens[j].tag] < Hogan.tags['_v'] || tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null;\n\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j + 1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString();\n            }\n\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({\n          tag: '\\n'\n        });\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(text.substring(text.indexOf('=', index) + 1, closeIndex)).split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n\n          state = IN_TAG;\n        }\n\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({\n            tag: tagType,\n            n: trim(buf),\n            otag: otag,\n            ctag: ctag,\n            i: tagType == '/' ? seenTag - otag.length : i + ctag.length\n          });\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n    return tokens;\n  };\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  } // the tags allowed inside super templates\n\n\n  var allowedInSuper = {\n    '_t': true,\n    '\\n': true,\n    '$': true,\n    '/': true\n  };\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n\n        opener = stack.pop();\n\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = tokens.length == 0 || tokens[0].tag == '\\n';\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function (codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) + \"}\";\n  };\n\n  var serialNo = 0;\n\n  Hogan.generate = function (tree, text, options) {\n    serialNo = 0;\n    var context = {\n      code: '',\n      subs: {},\n      partials: {}\n    };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  };\n\n  Hogan.wrapMain = function (code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  };\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function (codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  };\n\n  Hogan.makePartials = function (codeObj) {\n    var key,\n        template = {\n      subs: {},\n      partials: codeObj.partials,\n      name: codeObj.name\n    };\n\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n\n    return template;\n  };\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\').replace(rQuot, '\\\\\\\"').replace(rNewline, '\\\\n').replace(rCr, '\\\\r').replace(rLineSep, '\\\\u2028').replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return ~s.indexOf('.') ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {\n      name: node.n,\n      partials: {}\n    };\n    context.code += 't.b(t.rp(\"' + esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function (node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' + 'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' + 't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n    '^': function (node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n    '>': createPartial,\n    '<': function (node, context) {\n      var ctx = {\n        partials: {},\n        code: '',\n        subs: {},\n        inPartial: true\n      };\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n    '$': function (node, context) {\n      var ctx = {\n        subs: {},\n        code: '',\n        partials: context.partials,\n        prefix: node.n\n      };\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n    '\\n': function (node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n    '_v': function (node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n    '_t': function (node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n    '{': tripleStache,\n    '&': tripleStache\n  };\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function (nodelist, context) {\n    var func;\n\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n\n    return context;\n  };\n\n  Hogan.parse = function (tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  };\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function (text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  };\n\n  Hogan.compile = function (text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  };\n})(typeof exports !== 'undefined' ? exports : Hogan);","map":{"version":3,"names":["Hogan","rIsWhitespace","rQuot","rNewline","rCr","rSlash","rLineSep","rParagraphSep","tags","scan","text","delimiters","len","length","IN_TEXT","IN_TAG_TYPE","IN_TAG","state","tagType","tag","buf","tokens","seenTag","i","lineStart","otag","ctag","addBuf","push","String","lineIsWhitespace","isAllWhitespace","j","match","filterLine","haveSeenTag","noNewLine","next","indent","toString","splice","changeDelimiters","index","close","closeIndex","indexOf","trim","substring","split","tagChange","charAt","n","cleanTripleStache","token","substr","s","replace","l","allowedInSuper","buildTree","kind","stack","customTags","instructions","opener","tail","shift","Error","isOpener","nodes","pop","isCloser","end","last","o","open","c","stringifySubstitutions","obj","items","key","esc","join","stringifyPartials","codeObj","partials","name","subs","stringify","options","wrapMain","code","serialNo","generate","tree","context","walk","asString","makeTemplate","template","Template","makePartials","Function","chooseMethod","createPartial","node","prefix","sym","codegen","ctx","inPartial","write","tripleStache","nodelist","func","parse","sectionTags","cache","cacheKey","disableLambda","modelGet","compile","instance","exports"],"sources":["/Users/christoalex/Algolia/my-app/node_modules/hogan.js/lib/compiler.js"],"sourcesContent":["/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}